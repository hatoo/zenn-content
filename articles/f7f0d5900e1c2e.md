---
title: "mitmproxyã¿ãŸã„ãªã‚„ã¤ã‚’Rustã§ä½œã£ãŸã®ã§å­¦ã‚“ã ã“ã¨æ›¸ã"
emoji: "ğŸ¦€"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["rust", "http", "hyper"]
published: false
---

# ã¯ã˜ã‚ã«

Rustã§[mitmproxy](https://mitmproxy.org/)ã¿ãŸã„ãªã‚„ã¤ã‚’ä½œã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å…¬é–‹ã—ãŸã®ã§ãã®ã¨ãã«å­¦ã‚“ã ã“ã¨ã‚’æ›¸ãã¾ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªã¯ã“ã¡ã‚‰ã€‚
https://github.com/hatoo/http-mitm-proxy

## mitmproxyã¨ã¯

[mitmproxy](https://mitmproxy.org/)ã¯ã€HTTPã®ãƒ—ãƒ­ã‚­ã‚·ã‚µãƒ¼ãƒãƒ¼ã§ã€HTTPSã®é€šä¿¡ã®å†…å®¹ã‚‚è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ãŒç‰¹å¾´ã§ã™ã€‚

## HTTPãƒ—ãƒ­ã‚­ã‚·

HTTPãƒ—ãƒ­ã‚­ã‚·ã¯HTTPã®ãƒ¬ãƒ™ãƒ«ã§å‹•ä½œã™ã‚‹ãƒ—ãƒ­ã‚­ã‚·ã§ã™ã€‚

ãµã¤ã†ã®HTTP/1.1

```
â¯ printf "GET / HTTP/1.1\r\nHost: example.com\r\nConnection: close\r\n\r\n" | nc example.com 80
HTTP/1.1 200 OK
Accept-Ranges: bytes
Age: 360610
Cache-Control: max-age=604800
Content-Type: text/html; charset=UTF-8
Date: Mon, 18 Nov 2024 06:44:56 GMT
Etag: "3147526947+gzip"
Expires: Mon, 25 Nov 2024 06:44:56 GMT
Last-Modified: Thu, 17 Oct 2019 07:18:26 GMT
Server: ECAcc (sac/256D)
Vary: Accept-Encoding
X-Cache: HIT
Content-Length: 1256
Connection: close

... # ä»¥ä¸‹Body (çœç•¥)
```

```
â¯ printf "GET http://example.com/ HTTP/1.1\r\nHost: example.com\r\nConnection: close\r\n\r\n" | nc localhost 3003
HTTP/1.1 200 OK
Age: 302897
Cache-Control: max-age=604800
Content-Type: text/html; charset=UTF-8
Date: Mon, 18 Nov 2024 07:07:34 GMT
Etag: "3147526947+gzip+ident"
Expires: Mon, 25 Nov 2024 07:07:34 GMT
Last-Modified: Thu, 17 Oct 2019 07:18:26 GMT
Server: ECAcc (sac/251B)
Vary: Accept-Encoding
X-Cache: HIT
Content-Length: 1256
Connection: close

... # ä»¥ä¸‹Body (çœç•¥)
```